# Merlin Bioassay Data Analyzer

The purpose of this program is to analyze the images taken from the Biotek Cytation5 platereader. The program also has the ability to perform dose-response curve analysis and calculate LC values.

## Config File

The `config.txt` file contains configuration info. The permitted options are as follows.
- `IMG_DIR`: Directory containing all platereader images. For Gen5 on a Windows computer, this is usually `C:\Cytation Images`
- `OUT_DIR`: The default directory for saving processed images and larval count data.
- `STATS_CONFIG_PATH`: The path to the configuration file for the statistical analysis.
- `SAVE_INTMD`: True/False variable for whether to save an RGB .png image from all three color images for each well to show potential movement as color shifts. 
- `SAVE_MASK`: True/False variable for whether to save a .png image for each well with detected objects colored in. 
- `SAVE_BBOX`: True/False variable for whether to save a .png image for each well with colored bounding boxes around each object. 
- `VERBOSE_CSV`: True/False variable for whether to save 
- `CTRL_NAME`: Default name of the control larval growth medium as it should appear in the GUI.
- `CTRL_CODE`: Default reference ID of the control larval growth medium as it should appear in the GUI.
- `OPEN_CSV`: True/False variable for whether the final csv file should be opened in the default editor for csv files (Windows only)
- `DIR_DATE_FORMAT`: Date format for Gen5 file saving structure. Default is `%y%m%d_%H%M%S`.
- `FILE_DATE_FORMAT`: Date format for saving files generated by the program. Default is `%y%m%d`.
- `PRETTY_DATE_FORMAT`: Date format for non-path purposes, e.g., in csv files. Default is `%m/%d/%Y`.
- `CSV_NAME`: File name for the output csv file. 
- `DETECTION_NMS_THRESHOLD`: Parameter for the MAsk R-CNN algorithm. Non-maximum supression, determined by IoU. Must be in [0,1]. Higher values result in more boxes (less supression). 
- `DETECTION_MIN_CONFIDENCE`: Parameter for the MAsk R-CNN algorithm. Confidence of detection. Must be in [0,1]. Higher values result in fewer detections.

## Graphical User Interface


## Data Collection and Analysis

### Data Collection

The pipeline from image collection to data output is as follows:
1. The platereader takes three images of the well. Images are spaced approximately 0.2 seconds apart, and are saved locally. 
2. 
